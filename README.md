# Home Inventory System

å®¶åº­ç‰©å“ä¿å­˜ä½ç½®è®°å½•ç³»ç»Ÿ - ä¸€ä¸ªç°ä»£åŒ–çš„å¤šå¹³å°å®¶åº­ç‰©å“ç®¡ç†åº”ç”¨

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å®¶åº­ç‰©å“ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šåœ°å€ã€å¤šæˆ¿é—´çš„ç‰©å“è¿½è¸ªå’Œç®¡ç†ã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæä¾›Webç«¯å’Œç§»åŠ¨ç«¯ä¸¤ç§è®¿é—®æ–¹å¼ã€‚

## é¡¹ç›®ç»“æ„

```
home-inventory/
â”œâ”€â”€ backend/          # Java Spring Boot åç«¯ API
â”œâ”€â”€ web/             # React Web åº”ç”¨
â”œâ”€â”€ mobile/          # React Native ç§»åŠ¨åº”ç”¨
â””â”€â”€ README.md        # é¡¹ç›®æ–‡æ¡£
```

## åŠŸèƒ½ç‰¹æ€§

### ğŸ  å¤šå±‚çº§ç®¡ç†
- **åœ°å€ç®¡ç†**: æ”¯æŒå¤šä¸ªæˆ¿å­/åœ°å€
- **æˆ¿é—´ç®¡ç†**: æ¯ä¸ªåœ°å€ä¸‹çš„æˆ¿é—´ç®¡ç†
- **å‚¨ç‰©ä½ç½®ç®¡ç†**: æˆ¿é—´å†…çš„å…·ä½“å‚¨ç‰©ä½ç½®ï¼ˆæŸœå­ã€æŠ½å±‰ç­‰ï¼‰
- **ç‰©å“ç®¡ç†**: å…·ä½“ç‰©å“çš„è¯¦ç»†ä¿¡æ¯å’Œä½ç½®è¿½è¸ª

### ğŸ“± ç°ä»£åŒ–ç•Œé¢
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- **åŒè§†å›¾æ¨¡å¼**: åˆ—è¡¨è§†å›¾å’Œç½‘æ ¼è§†å›¾è‡ªç”±åˆ‡æ¢
- **å…¨å±€æœç´¢**: æ™ºèƒ½æœç´¢ç‰©å“ã€æˆ¿é—´ã€å‚¨ç‰©ä½ç½®
- **é¢åŒ…å±‘å¯¼èˆª**: æ¸…æ™°çš„å±‚çº§å¯¼èˆªå’Œå¿«é€Ÿè·³è½¬
- **å›½é™…åŒ–æ”¯æŒ**: ä¸­è‹±æ–‡åŒè¯­ç•Œé¢

### ğŸ“¸ ç‰©å“è®°å½•
- **ç…§ç‰‡ä¸Šä¼ **: æ”¯æŒå¤šå¼ ç…§ç‰‡è®°å½•ç‰©å“å¤–è§‚
- **è¯¦ç»†ä¿¡æ¯**: ç‰©å“åç§°ã€æè¿°ã€æ•°é‡ç­‰
- **ä½ç½®è¿½è¸ª**: å®Œæ•´çš„ä½ç½®è·¯å¾„æ˜¾ç¤º
- **å¿«é€Ÿæ“ä½œ**: æ¨¡æ€æ¡†å¼çš„æ·»åŠ å’Œç¼–è¾‘

### ğŸ” æ™ºèƒ½æœç´¢
- **å®æ—¶æœç´¢**: è¾“å…¥å³æœï¼Œ300msé˜²æŠ–
- **å¤šç±»å‹æœç´¢**: åŒæ—¶æœç´¢ç‰©å“ã€æˆ¿é—´ã€å‚¨ç‰©ä½ç½®
- **ç²¾ç¡®å®šä½**: ç‚¹å‡»æœç´¢ç»“æœç›´æ¥è·³è½¬åˆ°å¯¹åº”é¡µé¢
- **è·¯å¾„æ˜¾ç¤º**: æœç´¢ç»“æœæ˜¾ç¤ºå®Œæ•´ä½ç½®è·¯å¾„

## æŠ€æœ¯æ ˆ

### åç«¯ (Backend)
- **æ¡†æ¶**: Spring Boot 2.7.17
- **è¯­è¨€**: Java 8
- **æ•°æ®åº“**: H2 (å†…å­˜æ•°æ®åº“)
- **æ„å»ºå·¥å…·**: Maven 3.x
- **API**: RESTful API
- **æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒæœ€å¤§10MBå›¾ç‰‡ä¸Šä¼ 

### å‰ç«¯ (Web)
- **æ¡†æ¶**: React 18.2.0
- **è·¯ç”±**: React Router v6
- **HTTPå®¢æˆ·ç«¯**: Axios
- **å›½é™…åŒ–**: react-i18next
- **æ„å»ºå·¥å…·**: Create React App
- **æ ·å¼**: åŸç”ŸCSS + ç°ä»£åŒ–è®¾è®¡

### ç§»åŠ¨ç«¯ (Mobile)
- **æ¡†æ¶**: React Native 0.73
- **å¯¼èˆª**: React Navigation
- **ç›¸æœº**: react-native-image-picker

## ç³»ç»Ÿè¦æ±‚

### å¼€å‘ç¯å¢ƒ
- **Node.js**: 16.x æˆ–æ›´é«˜ç‰ˆæœ¬
- **Java**: JDK 8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Maven**: 3.6.x æˆ–æ›´é«˜ç‰ˆæœ¬
- **Git**: ç”¨äºç‰ˆæœ¬æ§åˆ¶

### ç”Ÿäº§ç¯å¢ƒ
- **æœåŠ¡å™¨**: 1 CPUæ ¸å¿ƒ, 1GB RAM (æœ€ä½é…ç½®)
- **æ¨èé…ç½®**: 2 CPUæ ¸å¿ƒ, 2GB RAM
- **å­˜å‚¨ç©ºé—´**: 500MB (ç³»ç»Ÿ) + ç”¨æˆ·æ•°æ®å­˜å‚¨
- **æ“ä½œç³»ç»Ÿ**: Linux/Windows/macOS
- **Javaè¿è¡Œæ—¶**: JRE 8+

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/hzxcaq/home-inventory.git
cd home-inventory
```

### 2. å¯åŠ¨åç«¯
```bash
cd backend
mvn clean install
mvn spring-boot:run
```
åç«¯å°†åœ¨ http://localhost:8080 å¯åŠ¨

### 3. å¯åŠ¨å‰ç«¯
```bash
cd web
npm install
npm start
```
å‰ç«¯å°†åœ¨ http://localhost:3000 å¯åŠ¨

### 4. è®¿é—®åº”ç”¨
æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000

## ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### æ–¹æ¡ˆä¸€ï¼šä¼ ç»ŸæœåŠ¡å™¨éƒ¨ç½²

#### èµ„æºéœ€æ±‚
- **CPU**: 2æ ¸å¿ƒ (æ¨è)
- **å†…å­˜**: 2GB RAM (æ¨è)
- **å­˜å‚¨**: 1GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: å…¬ç½‘IPæˆ–åŸŸå
- **ç«¯å£**: 80/443 (Web), 8080 (API)

#### éƒ¨ç½²æ­¥éª¤

##### 1. å‡†å¤‡æœåŠ¡å™¨ç¯å¢ƒ
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install openjdk-8-jre nginx

# CentOS/RHEL
sudo yum update
sudo yum install java-1.8.0-openjdk nginx
```

##### 2. æ„å»ºåº”ç”¨
```bash
# æ„å»ºåç«¯
cd backend
mvn clean package -DskipTests
# ç”Ÿæˆæ–‡ä»¶: target/home-inventory-backend-1.0.0.jar (çº¦38MB)

# æ„å»ºå‰ç«¯
cd ../web
npm install
npm run build
# ç”Ÿæˆç›®å½•: build/ (çº¦100KB gzipped)
```

##### 3. éƒ¨ç½²åç«¯
```bash
# åˆ›å»ºåº”ç”¨ç›®å½•
sudo mkdir -p /opt/home-inventory
sudo cp backend/target/home-inventory-backend-1.0.0.jar /opt/home-inventory/

# åˆ›å»ºsystemdæœåŠ¡
sudo tee /etc/systemd/system/home-inventory.service > /dev/null <<EOF
[Unit]
Description=Home Inventory Backend
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/opt/home-inventory
ExecStart=/usr/bin/java -jar home-inventory-backend-1.0.0.jar
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
EOF

# å¯åŠ¨æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl enable home-inventory
sudo systemctl start home-inventory
```

##### 4. éƒ¨ç½²å‰ç«¯ (Nginx)
```bash
# å¤åˆ¶æ„å»ºæ–‡ä»¶
sudo cp -r web/build/* /var/www/html/

# é…ç½®Nginx
sudo tee /etc/nginx/sites-available/home-inventory > /dev/null <<EOF
server {
    listen 80;
    server_name your-domain.com;  # æ›¿æ¢ä¸ºæ‚¨çš„åŸŸå
    root /var/www/html;
    index index.html;

    # å‰ç«¯è·¯ç”±æ”¯æŒ
    location / {
        try_files \$uri \$uri/ /index.html;
    }

    # APIä»£ç†
    location /api/ {
        proxy_pass http://localhost:8080/api/;
        proxy_set_header Host \$host;
        proxy_set_header X-Real-IP \$remote_addr;
        proxy_set_header X-Forwarded-For \$proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto \$scheme;
    }

    # é™æ€æ–‡ä»¶ç¼“å­˜
    location /static/ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
EOF

# å¯ç”¨ç«™ç‚¹
sudo ln -s /etc/nginx/sites-available/home-inventory /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

##### 5. SSLè¯ä¹¦é…ç½® (å¯é€‰)
```bash
# ä½¿ç”¨Let's Encrypt
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d your-domain.com
```

### æ–¹æ¡ˆäºŒï¼šDockeréƒ¨ç½²

#### åˆ›å»ºDockerfile (åç«¯)
```dockerfile
# backend/Dockerfile
FROM openjdk:8-jre-alpine
VOLUME /tmp
COPY target/home-inventory-backend-1.0.0.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java","-jar","/app.jar"]
```

#### åˆ›å»ºDockerfile (å‰ç«¯)
```dockerfile
# web/Dockerfile
FROM nginx:alpine
COPY build/ /usr/share/nginx/html/
COPY nginx.conf /etc/nginx/conf.d/default.conf
EXPOSE 80
```

#### Docker Composeé…ç½®
```yaml
# docker-compose.yml
version: '3.8'
services:
  backend:
    build: ./backend
    ports:
      - "8080:8080"
    volumes:
      - ./uploads:/app/uploads

  frontend:
    build: ./web
    ports:
      - "80:80"
    depends_on:
      - backend
```

#### éƒ¨ç½²å‘½ä»¤
```bash
# æ„å»ºå’Œå¯åŠ¨
docker-compose up -d

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

### æ–¹æ¡ˆä¸‰ï¼šäº‘å¹³å°éƒ¨ç½²

#### Vercel (å‰ç«¯)
```bash
# å®‰è£…Vercel CLI
npm i -g vercel

# éƒ¨ç½²å‰ç«¯
cd web
vercel --prod
```

#### Railway/Heroku (åç«¯)
```bash
# æ·»åŠ Procfile
echo "web: java -jar target/home-inventory-backend-1.0.0.jar" > backend/Procfile

# æ¨é€åˆ°å¹³å°
git subtree push --prefix=backend heroku master
```

## é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®
```bash
# åç«¯ç¯å¢ƒå˜é‡
export SERVER_PORT=8080
export DB_URL=jdbc:h2:mem:testdb
export UPLOAD_DIR=uploads
export MAX_FILE_SIZE=10MB

# å‰ç«¯ç¯å¢ƒå˜é‡ (web/.env)
REACT_APP_API_URL=http://localhost:8080/api
REACT_APP_UPLOAD_URL=http://localhost:8080/uploads
```

### æ•°æ®åº“é…ç½®
```properties
# ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨æŒä¹…åŒ–æ•°æ®åº“
spring.datasource.url=jdbc:h2:file:./data/inventory
spring.jpa.hibernate.ddl-auto=update
```

## æ€§èƒ½ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–
- **ä»£ç åˆ†å‰²**: ä½¿ç”¨React.lazy()è¿›è¡Œè·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
- **å›¾ç‰‡ä¼˜åŒ–**: å‹ç¼©ä¸Šä¼ å›¾ç‰‡ï¼Œä½¿ç”¨WebPæ ¼å¼
- **ç¼“å­˜ç­–ç•¥**: é™æ€èµ„æºè®¾ç½®é•¿æœŸç¼“å­˜
- **CDN**: ä½¿ç”¨CDNåŠ é€Ÿé™æ€èµ„æºåŠ è½½

### åç«¯ä¼˜åŒ–
- **æ•°æ®åº“è¿æ¥æ± **: é…ç½®åˆé€‚çš„è¿æ¥æ± å¤§å°
- **ç¼“å­˜**: æ·»åŠ Redisç¼“å­˜çƒ­ç‚¹æ•°æ®
- **æ–‡ä»¶å­˜å‚¨**: ä½¿ç”¨å¯¹è±¡å­˜å‚¨æœåŠ¡(å¦‚AWS S3)
- **è´Ÿè½½å‡è¡¡**: å¤šå®ä¾‹éƒ¨ç½²æ—¶ä½¿ç”¨è´Ÿè½½å‡è¡¡

## ç›‘æ§å’Œç»´æŠ¤

### æ—¥å¿—ç®¡ç†
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
sudo journalctl -u home-inventory -f

# æŸ¥çœ‹Nginxæ—¥å¿—
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log
```

### å¤‡ä»½ç­–ç•¥
```bash
# æ•°æ®åº“å¤‡ä»½ (å¦‚æœä½¿ç”¨æ–‡ä»¶æ•°æ®åº“)
cp /opt/home-inventory/data/inventory.mv.db /backup/

# ä¸Šä¼ æ–‡ä»¶å¤‡ä»½
tar -czf /backup/uploads-$(date +%Y%m%d).tar.gz /opt/home-inventory/uploads/
```

### æ›´æ–°éƒ¨ç½²
```bash
# æ›´æ–°åç«¯
sudo systemctl stop home-inventory
sudo cp new-version.jar /opt/home-inventory/home-inventory-backend-1.0.0.jar
sudo systemctl start home-inventory

# æ›´æ–°å‰ç«¯
sudo cp -r new-build/* /var/www/html/
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å ç”¨**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
sudo netstat -tlnp | grep :8080
sudo lsof -i :8080
```

2. **å†…å­˜ä¸è¶³**
```bash
# è°ƒæ•´JVMå†…å­˜
java -Xmx512m -jar home-inventory-backend-1.0.0.jar
```

3. **æ–‡ä»¶ä¸Šä¼ å¤±è´¥**
```bash
# æ£€æŸ¥ä¸Šä¼ ç›®å½•æƒé™
sudo chown -R www-data:www-data /opt/home-inventory/uploads/
sudo chmod 755 /opt/home-inventory/uploads/
```

4. **å‰ç«¯APIè¿æ¥å¤±è´¥**
- æ£€æŸ¥API_URLé…ç½®
- ç¡®è®¤åç«¯æœåŠ¡çŠ¶æ€
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

## å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘
```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
npm run dev:all  # åŒæ—¶å¯åŠ¨å‰åç«¯

# ä»£ç æ ¼å¼åŒ–
npm run format

# è¿è¡Œæµ‹è¯•
npm test
```

### è´¡çŒ®æŒ‡å—
1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»ºPull Request

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€: https://github.com/hzxcaq/home-inventory
- é—®é¢˜åé¦ˆ: https://github.com/hzxcaq/home-inventory/issues

---

**æ³¨æ„**: æœ¬ç³»ç»Ÿç›®å‰ä½¿ç”¨å†…å­˜æ•°æ®åº“ï¼Œé‡å¯åæ•°æ®ä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒå»ºè®®é…ç½®æŒä¹…åŒ–æ•°æ®åº“ã€‚
